function postCheck(e){post?preview?(e&&(log=e),workFlow("running...","postCheck()"),preview.innerHTML=convertValue(post.value,1)):(workFlow("error: .preview not found","postCheck()"),notifMe("container with the class of '.preview' doesn't exist.",801,4e3),console.error("container with the class of '.preview' doesn't exist.")):(workFlow("error: #preview not found","postCheck()"),notifMe("container with the class of '#post' doesn't exist.",800,4e3),console.error("'container with the id of '#post' doesn't exist."))}function convertValue(e){log&&workFlow("start converting text","convertValue()");let t=e.match(/\[.*?\]|\[imgs=\]/g);const o=e.match(/\[.*?\]|\[imgs=\]/g);if(e=htmlInjectionIncoder(e),t){t.forEach(convertCase);for(let s=0;s<o.length;s++)e=e.split(o[s]).join(t[s])}return log&&workFlow("done converting","convertValue()"),log&&notifMe("Converting Success",null,3e3),log=0,arrayToString(e)}function arrayToString(e){return e.toString().replace(/,(?!,)/g," ")}function htmlInjectionIncoder(e){return e=e.replace("<","&lt;"),e=e.replace(">","&gt;"),e.replace(/(<script(\s|\S)*?<\/script>)|(<style(\s|\S)*?<\/style>)|(<!--(\s|\S)*?-->)|(<\/?(\s|\S)*?>)/g,"")}function charCounter(e){let t=140,o=post.value.split("");e?postCounter.innerHTML=o.length:(postCounter.innerHTML=t-o.length,o.length>t?(postCounter.style.backgroundColor="#df4577",post.style.color="#b4c6d7",notifMe(`Your input is larger than ${t}`,1)):(postCounter.style.backgroundColor="",post.style.color=""))}function notifMe(e,t,o){let s,n=1e4;t||(t=Math.round(100*Math.random()+50)),o&&(n=o),t++,s="Mx-"+t,unqidStored[t]!=s?status[t]||(unqidStored[t]=s,status[t]=1,newMessage(e,floatNotif,s),setTimeout(function(){deleteMessage(s),status[t]=0},n)):0===status[t]&&(status[t]=1,newMessage(e,floatNotif,s),setTimeout(function(){deleteMessage(s),status[t]=0},n))}function deleteMessage(e){let t=e.slice(3,e.length);floatNotif.querySelector(".messageid_"+e).remove(),status[t]=0}function newMessage(e,t,o){let s=document.createElement("div");s.classList.add("float-notif_message","messageid_"+o),e&&(s.innerHTML=`<div class="float-notif_header">${o}\n        <div class="float-notif_exit" onclick="deleteMessage(${o})">\n            <span></span>\n            <span class="left"></span>\n        </div>\n    </div> ${e}`),t.appendChild(s)}function convertCase(e,t,o){let s,n,l;log&&workFlow(`converting ${e.slice(0,20)}...`,"convertCase()");let r=e.search("=");-1===r&&(r=e.search(":"));let c=e.slice(1,r);c=c.toLowerCase();let i=e.slice(r+1,e.length-1);i=styleImplementer(i),"br"===c||"hr"===c?o[t]="<"+c+"/>":"imgs"===c?(r=e.search("="),s=e.slice(r+1,e.length-1),c=e.slice(1,r-1),l=s.search(":"),n=s.slice(l+1),s=s.slice(0,l),o[t]=`<${c} class="preview-image" alt="${n}" src="${s}"/>`):"video"===c?(r=e.search("="),s=e.slice(r+1,e.length-1),source=`<source src="${source}">`,o[t]=`\n        <${c} class="preview-vide" autoplay nocontrols>\n            ${source}\n            Your browser does not support the video tag.\n        </${c}>`):-1!==r&&c?o[t]=`<${c}>${i}</${c}>`:(i=e.slice(1,e.length-1),o[t]=i)}function styleImplementer(e){let t=e.match(/\w`|\w`]|\w`\s/g);return log&&t&&workFlow(`found styles - ${t}`,"styleImplementer()"),t?styleReplacer(t,e):e}function styleReplacer(e,t){for(let o=0;o<e.length;){switch(sLocS=t.search(e[o]),e[o]==e[o+1]?(sLocE=t.match(/\w\w`/g),sLocE=t.search(sLocE[0]),sTxt=t.slice(sLocS+2,sLocE+2),sFull=t.slice(sLocS,sLocE+3)):(sLocE=t.search(e[o+1]),sTxt=t.slice(sLocS+2,sLocE+1),sFull=t.slice(sLocS,sLocE+2)),sTagL=t.search("`"),sTag=t.slice(sLocS,sTagL),sTag){case"b":case"i":sTxt=`<${sTag}>${sTxt}</${sTag}>`;break;default:sTxt=sTxt}o+=2,log&&workFlow(`converting ${sFull}`,"styleReplacer()"),t=t.replace(sFull,sTxt)}return t.slice(0,t.length)}function copyItem(){let e=document.querySelector(".raw-output"),t=htmlInjectionIncoder(e.value.slice(0,20));workFlow(`Copying ${t}...`,"copyItem()"),notifMe(`Copying <span class="inmessage">${t}...</span>`,2,3e3),e.value&&navigator.clipboard.writeText(e.value)}function workFlow(e,t){let o=200*wi;e&&setTimeout(()=>{newLogBase(e,logsArea,t),checkItem(),wi=1},o),wi+=2}function newLogBase(e,t,o){let s=document.createElement("div");s.classList.add("lognew"),e&&(s.innerHTML=`<span>${o}:</span> ${e}`),t.appendChild(s),s.scrollBy({top:100,left:0,behavior:"smooth"})}function checkItem(){let e=logsArea.querySelectorAll("div");if(e.length>50){let t=e.length-50;for(let o=0;o<t;o++)logsArea.removeChild(e[o])}}function selectionModify(){const e=sel=window.getSelection().toString(),t=post.value;sel=`'<b>${sel}</b>'`,sel=t.replace(e,sel),post.innerHTML=sel}function showContainer(e){let t;t=e}const post=document.querySelector("#post"),postCounter=document.querySelectorAll(".postcounter")[0],preview=document.querySelectorAll(".preview")[0];let log,map={};post.addEventListener("keydown",e=>{map[e.key]=!0,map.Control&&"Enter"===e.key&&(workFlow("is running...","post.addEventListener()"),postCheck(1)),map.Control&&"b"===e.key&&selectionModify(),setTimeout(()=>{document.querySelector(".raw-output").innerHTML=convertValue(post.value),charCounter()},200)}),post.addEventListener("keyup",e=>{delete map[e.key]});const floatNotif=document.querySelector("#float-notif");let sLocS,sLocE,sTag,sTagL,sTxt,sFull,unqidStored=[],status=[],wi=1;const logsArea=document.querySelector(".log-area");let sel;const sId=document.querySelector(".select-text");sId.addEventListener("change",function(){let e=sId.value;showContainer(e)});let howToTrigger=document.querySelector(".howto-message"),howTo=document.querySelector(".howto-float");howToTrigger.addEventListener("mouseover",function(){howTo.classList.add("animation-show"),howTo.classList.add("on")}),howToTrigger.addEventListener("mouseout",function(){howTo.classList.remove("animation-show"),howTo.classList.remove("on")});